<?xml version='1.0' encoding='UTF-8' ?>
<odoo>
    <data>
        <record id="base.action_partner_form" model="ir.actions.act_window">
            <field name="domain">[('is_address', '=', False)]</field>
        </record>
        <record id="contacts.action_contacts" model="ir.actions.act_window">
            <field name="domain">[('is_address', '=', False)]</field>
        </record>
        <record id="res_partner_view_form_private_custom" model="ir.ui.view">
            <field name="name">res.partner.view.form.private.custom</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.res_partner_view_form_private"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='email']" position="after">
                    <field name="nearest_land_mark"/>
                    <field name="fax_number"/>
                </xpath>
            </field>
        </record>

        <record id="res_partner_view_form_custom" model="ir.ui.view">
            <field name="name">res.partner.view.form.custom</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='parent_id']" position="after">
                    <field name="check_qshield_sponsor" invisible="1"/>
                    <field name="is_qshield_sponsor"/>
                    <field name="is_address" invisible="1"/>
                    <field name="employee_ids" context="{'get_partner_id' : active_id}"
                           attrs="{'invisible':[('check_qshield_sponsor','=',False)]}"
                           readonly="True"/>
                </xpath>
            </field>
        </record>

        <record model="ir.actions.server" id="action_partner_to_employee">
            <field name="name">Create Employee</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="binding_model_id" ref="model_res_partner"/>
            <field name="state">code</field>
            <field name="code">
                if records:
                action = records.create_employee()
            </field>
        </record>
    </data>
</odoo>
